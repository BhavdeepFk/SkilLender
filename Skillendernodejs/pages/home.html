<form  id="target" method="POST" >
<center>
    <div class="homeContent">
        <div class="welcomeText">
            Welcome {{name}}!
        </div>
        <div class="userProfileImage pull-left">
            <img src="https://graph.facebook.com/927716317252688/picture?type=normal" alt="sample user name">
        </div>
        <div class="notifications pull-right">
            <div class="heading">
                Contact Details:
                <span class=' badge numNotifs pull-right'>3 new</span>
            </div>
            <div class="notificationsContent">
                <ul class="list-group">
                    <li class="list-group-item">
                        <div class="from pull-left new">Name :</div>
                        <input type="hidden" name="username" value="{{name}}" />
                         {{#if name}}                         
                        <div class="subject pull-left"> {{name}}</div>                        
                         {{else}}
                        <div class="subject pull-left"> N/A</div>
                         {{/if}}

                    <!--    <span class="pull-right glyphicon glyphicon-pencil"></span> -->
                    </li>
                    <li class="list-group-item">                        
                        <div class="from pull-left new">DOB: </div>
                        {{#if dob}}
                        <div class="subject pull-left"> {{dob}} </div>
                        {{else}}
                        <div class="subject pull-left"> N/A</div>
                         {{/if}}
                    <!--     -->
                    <!--    <span class="pull-right glyphicon glyphicon-pencil"></span> -->
                    </li>
                    <li class="list-group-item">                    
                        <div class="from pull-left new">Gender :</div>
                        {{#if gender}}
                        <div class="subject pull-left"> {{gender}} </div>
                        {{else}}
                        <div class="subject pull-left"> N/A</div>
                         {{/if}}
                    <!--    <span class="pull-right glyphicon glyphicon-pencil"></span> -->
                    </li>
                    <li class="list-group-item">
                        <div class="from pull-left new">Work :</div>
                        {{#if occupation}}
                        <div class="subject pull-left"> {{occupation}}</div> 
                        {{else}}
                        <div class="subject pull-left"> N/A</div>
                         {{/if}}
                    <!--    <span class="pull-right glyphicon glyphicon-pencil"></span> -->
                    </li>
                    <li class="list-group-item">
                        <div class="from pull-left new">Location : </div>
                        {{#if city}}
                        <div class="subject pull-left"> {{city}} </div>
                        {{else}}
                        <div class="subject pull-left"> N/A</div>
                         {{/if}}
                    <!--    <span class="pull-right glyphicon glyphicon-pencil"></span> -->
                    </li>
                    <li class="list-group-item">
                        <div class="from pull-left new">Contact :</div>
                        {{#if contact}}
                        <div class="subject pull-left"> {{contact}} </div>
                        {{else}}
                        <div class="subject pull-left"> N/A</div>
                         {{/if}}
                    <!--    <span class="pull-right glyphicon glyphicon-pencil"></span> -->
                    </li>
                    <li class="list-group-item">
                        <div class="from pull-left new">Email :</div>
                        {{#if email}}
                        <div class="subject pull-left"> {{email}} </div> 
                        {{else}}
                        <div class="subject pull-left"> N/A</div>
                         {{/if}}
                    <!--    <span class="pull-right glyphicon glyphicon-pencil"></span> -->
                    </li>
                 
                </ul>
            </div>
        </div>
        <div class="skills pull-left">
            <div class="heading">Skills</div>
            <div class='skillsContent'>
                <ul class='list-group'>
                <li class='list-group-item'>
                        <div class='skill pull-left'>Skill</div>
                        <div class='skill pull-left'>Category</div>
                        <div class='proficiency pull-right centerText'>
                            <div class='skill pull-center centerText'>Proficiency</div>                                                        
                        </div>
                    </li>
				{{#each skillList}}
                    <li class='list-group-item'>
                        <div class='skill pull-left'>{{this.name}}</div>
                        <div class='skill pull-left'>{{this.name}}</div>
                        <div class='proficiency pull-right'>
                            <div class="progress pull-left">
                                <div class="progress-bar progress-bar-success" aria-valuenow="{{level}}" aria-valuemin="1" aria-valuemax="10" role="progressbar" style="width: {{level}}0%">
                                {{level}}</div>
                            </div>
                            <div class='changeButtons pull-right'>
                                <div class="btn-group" role="group">
                                    <button type="button" class="btn btn-default changeButton minus"> - </button>
                                    <button type="button" class="btn btn-default changeButton plus"> + </button>
                                    <button type="button" class="btn btn-danger changeButton remove"> x </button>
                                </div>
                            </div>
                        </div>
                    </li>
                    {{/each}}
               <!--     <li class='list-group-item'>
                        <div class='skill pull-left'>Painting</div>
                        <div class='proficiency pull-right'>
                            <div class="progress pull-left">
                                <div class="progress-bar progress-bar-success" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100" role="progressbar" style="width: 70%">
                                7</div>
                            </div>
                            <div class='changeButtons pull-right'>
                                <div class="btn-group" role="group">
                                    <button type="button" class="btn btn-default changeButton minus"> - </button>
                                    <button type="button" class="btn btn-default changeButton plus"> + </button>
                                    <button type="button" class="btn btn-danger changeButton remove"> x </button>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class='list-group-item'>
                        <div class='skill pull-left'>Cooking skills</div>
                        <div class='proficiency pull-right'>
                            <div class="progress pull-left">
                                <div class="progress-bar progress-bar-success" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" role="progressbar" style="width: 60%">
                                6</div>
                            </div>
                            <div class='changeButtons pull-right'>
                                <div class="btn-group" role="group">
                                    <button type="button" class="btn btn-default changeButton minus"> - </button>
                                    <button type="button" class="btn btn-default changeButton plus"> + </button>
                                    <button type="button" class="btn btn-danger changeButton remove"> x </button>
                                </div>
                            </div>
                        </div>
                    </li> -->
					
                    
					<!--
                    <li class='list-group-item addMoreText' style='display:none;'>
                        <div class='pull-left'></input></div>
                        <div class='pull-left'>
                           
                        </div>
                        <div class='pull-right'>
                            <select>
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>
                            <option>5</option>
                            <option>6</option>
                            <option>7</option>
                            <option>8</option>
                            <option>9</option>
                            <option>10</option>
                            </select>
                        </div>
                    </li>

					<li class='list-group-item addMoreText' style='display:none;'>
                    <select>
					<option>Technology</option>
					<option>Cooking</option>
					<option>Sports</option>
					<option>Business</option>
					<option>Entertainment</option>
					</select>					
                    </li>
                    -->
					
					<li class='list-group-item addMoreButton centerText'>
                        + Add More
                    </li>
                    <li class='list-group-item saveButton centerText'>
                        <input type="submit" value="Save Changes" /> 
                    </li>
                </ul>
            </div>
        </div>
    </div>
</center>
</form>

<script>
    $(document.body).on('click', '.changeButton' ,function(){    
        //$('.changeButton').click(function(){
        console.log('change button!');
        var $parent=$(this).closest('.proficiency');
        var current=parseInt($('.progress-bar',$parent).attr('aria-valuenow'));
        if($(this).hasClass('plus')){
            if(current<10){
                current=current+1;
            }
        } else if($(this).hasClass('minus')) {
            if(current>1){
                current=current-1;
            }
        } else {
            console.log('Remove here!');
            $parent.closest('li').remove()
        }        
        $('.progress-bar',$parent).attr('aria-valuenow',current);
	
        $('.progress-bar',$parent).css('width',current+'0%');
        $('.progress-bar',$parent).html(current);
    });

    
    $('.addMoreButton').click(function(){
        console.log('add more!')
        addMoreContent = "<li class='list-group-item'>"+
                        "<div class='skill pull-left'>"+
                            "<input type='text' class='form-control' placeholder='Enter Skill Name' />"+
                        "</div>"+
                        "<div class='skill pull-left'>"+
                             "<select>"+
                                "<option>Technology</option>"+
                                "<option>Cooking</option>"+
                                "<option>Sports</option>"+
                                "<option>Business</option>"+
                                "<option>Entertainment</option>"+
                            "</select>"+
                        "</div>"+
                        "<div class='proficiency pull-right' >"+
                            "<div class='progress pull-left'>"+
                                "<div class='progress-bar progress-bar-success' aria-valuenow='1' aria-valuemin='1' aria-valuemax='10' role='progressbar' style='width: 10%''>"+
                                "1</div>"+
                            "</div>"+
                            "<div class='changeButtons pull-right'>"+
                                "<div class='btn-group' role='group'>"+
                                    "<button type='button' class='btn btn-default changeButton minus'> - </button>"+
                                    "<button type='button' class='btn btn-default changeButton plus'> + </button>"+
                                    "<button type='button' class='btn btn-danger changeButton remove'> x </button>"+
                                "</div>"+
                            "</div>"+
                        "</div>"+
                    "</li>";

        $('.addMoreButton').before(addMoreContent);
		
    });
    
    $('.saveButton').click(function(){
        console.log('savebutton');

    });
	$( "#target" ).submit(function( event ) {
        //alert( "Handler for .submit() called." );
        //event.preventDefault();
});
    
</script>